@model List<EmpresaParceiraViewModel>
@{
    ViewData["Title"] = "Empresa Parceira"; // Define o título da página
}

<body>
    <main class="container mt-5">
        <!-- Título da página -->
        <div class="mb-4">
            <h1 class="text-center">Empresas Parceiras</h1>
        </div>

        <!-- Botões de ação -->
        <div class="d-flex justify-content-between mb-4">
            <a href="/EmpresaParceira/create" class="btn btn-primary">Novo Registro</a>
            <a href="/home" class="btn btn-light">Página Inicial</a>
            <button class="btn btn-success" onclick="extrairDados()">Extrair Dados</button>
        </div>

        <!-- Tabela de Empresas Parceiras -->
        <div class="table-responsive">
            <table class="table table-striped">
                <thead class="thead-dark">
                    <tr>
                        <th>Ação</th>
                        <th>Código da Empresa</th>
                        <th>Nome da Empresa</th>
                        <th>CEP</th>
                        <th>Logradouro</th>
                        <th>Número</th>
                        <th>Complemento</th>
                        <th>Bairro</th>
                        <th>Cidade</th>
                        <th>Estado</th>
                        <th>CNPJ</th>
                        <th>Telefone</th>
                        <th>ID do Usuário</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null && Model.Count > 0)
                    {
                        foreach (var empresa in Model)
                        {
                            <tr>
                                <td>
                                    <a href="/EmpresaParceira/Edit?id=@empresa.id" class="btn btn-warning btn-sm">Editar</a>
                                    <a href="javascript:void(0);" onclick="apagarEmpresaParceira(@empresa.id)" class="btn btn-danger btn-sm">Apagar</a>
                                </td>
                                <td>@empresa.id</td>
                                <td>@empresa.nm_empr</td>
                                <td>@empresa.cep_empr</td>
                                <td>@empresa.log_empr</td>
                                <td>@empresa.num_empr</td>
                                <td>@empresa.compl_empr</td>
                                <td>@empresa.bairro_empr</td>
                                <td>@empresa.cidade_empr</td>
                                <td>@empresa.estado_empr</td>
                                <td>@empresa.cnpj_empr</td>
                                <td>@empresa.telf_cont_empr</td>
                                <td>@empresa.id_func</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="13" class="text-center">Nenhuma Empresa Cadastrada.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <!-- Scripts -->
        <script>
            function apagarEmpresaParceira(id) {
                if (confirm('Confirma a exclusão do registro?')) {
                    location.href = 'EmpresaParceira/Delete?id=' + id;
                }
            }

            function extrairDados() {
                window.location.href = '@Url.Action("ExtrairDados", "EmpresaParceira")';
            }
        </script>
    </main>
</body>
